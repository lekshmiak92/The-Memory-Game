<!DOCTYPE html>
<html>
  <head>
    <title>match the tile</title>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    
    <style type="text/css">
      body{
        background-color: lightgoldenrodyellow;
        margin: 0px;
      }
      .content-wrap{
        width: 100%;
        overflow: hidden;
        text-align: center;
      }
      #logo{
        margin: auto;
      }
      .game-area{
        width: 320px;
        margin: auto;
        padding-top: 25px;
        overflow: hidden;
      }
      .tile{
        width: 90px;
        height: 90px;
        float: left;
        background: lightgreen;
        border: 4px blue;
        border-style: ridge;
        margin: 2px;
        border-radius: 10px;

      }
      .tiletext{
        text-align: center;        
        padding: 25px;
        font-weight: bold;
        font-size: 30px;
        height: 40px;
        border-radius: 5px;
      }
      /*.tile:focus{
        background: yellow;
        color: black;
      }*/
      .hidden{
        visibility: hidden;
      }
      .show{
        visibility: visible;
      }
      .match-found{
        background-color: #f3bb1d;
        visibility: visible !important;
        /*color: transparent;*/
      }
      .succes{
        color: maroon;
      }
    </style>
  </head>
  <body>
    <div class="content-wrap">
      <img id="logo" src="./game-logo.png">
      <div class="succes hidden"> <h2> Congratulations You found all the matches !! </h2></div>
      <div class="game-area">
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-1"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-2"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-3"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-4"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext show" id="static">*</div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-5"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-6"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-7"></div></div>
        <div class="tile" tabindex="0"><div class="tiletext hidden" id="tile-8"></div></div>
      </div>
    </div>

    <script>
      $(function() {
        var selectionCount=0;
        var storedTileCount=0;
        var chosenTile=0;
        var tileStack=[];
        var matchCount=0;
        var no_of_moves=0;
        var numArray=[];
        
        
        
        // show only 2 tiles at a time 
        function tileClicked() {
          no_of_moves++;
          chosenTile=$(this).children().attr('id');
          if (selectionCount>1) {
            selectionCount=0;
            $(".tiletext").addClass("hidden");
            $(".tiletext").removeClass("clicked");
          }
          openTile(chosenTile);
        }

        //show the selected tile
        function openTile(chosenTile){
          if (!$(document.getElementById(chosenTile)).hasClass('clicked')) {
            
            if ($(document.getElementById(chosenTile)).hasClass('hidden')) {
              $(document.getElementById(chosenTile)).removeClass('hidden'); 
              $(document.getElementById(chosenTile)).addClass('clicked');
            }
          }
          selectionCount++;
          storeTileContent(chosenTile);
        }

        // storing the selected tile contents to array
        function storeTileContent(chosenTile) {
          tileStack.push(chosenTile);
          console.log(tileStack);
          storedTileCount++;
          if (storedTileCount==2) {
            compareTileContent(tileStack);
            storedTileCount=0;
            tileStack.length = 0;
          }
        }

        // comparing the opened tile contents
        function compareTileContent(tileStack) {

         if ($('#'+tileStack[0]).text()===$('#'+tileStack[1]).text()) {
            $('#'+tileStack[0]).addClass('match-found');
            $('#'+tileStack[1]).addClass('match-found');
            matchCount++
          }
          if (matchCount==4) {
            $("div.succes").removeClass('hidden');
            console.log(no_of_moves);
          }
        }

        // generating random numbers for tiles
        function generateRandomNumbers(){
          for (var i = 0; i < 4; i++) {
            numArray[i]= Math.round((Math.random()*100)+1);
            console.log(numArray);
          }
          numArray=numArray.concat(numArray);
        }

        // randomly sort the generated numbers
        function randomSort(){
          numArray.sort(function() { 
            return 0.5 - Math.random()
             });
          for (var i = numArray.length ; i > 0; i--) {
            $("#tile-"+i).text(numArray[i-1]);
          }
        }

        

        
      generateRandomNumbers();
      randomSort();
      $('.tile').on("click",tileClicked);


      });
    </script>
  </body>
</html>